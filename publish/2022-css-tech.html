<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-09-27 Fri 20:57 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>2022 CSS 技术一瞥</title>
<meta name="author" content="Spike Leung" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>

<link rel="stylesheet" href="../styles/style.css" type="text/css"/>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
<div id="preamble" class="status">

 <nav>
  <ul>
    <li><a href="/index.html">Home</a></li>
    <li><a href="/about.html">About</a></li>
    <li><a href="/rss.xml">RSS</a></li>
    <li><a href="https://github.com/Spike-Leung/taxodium/tree/org-publish">GitHub</a></li>
  </ul>
</nav>
</div>
<div id="content" class="content">
<h1 class="title">2022 CSS 技术一瞥</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgb32284b">CSS Preprocessor</a>
<ul>
<li><a href="#org72ed5d6">SCSS / SASS (Syntactically Awesome Style Sheets)</a></li>
<li><a href="#org2bac4d4">Less (Leaner Stylesheets)</a></li>
<li><a href="#org56c1919">Stylus</a></li>
<li><a href="#orgf2b598a">PostCSS</a></li>
</ul>
</li>
<li><a href="#org47b711e">CSS Frameworks</a>
<ul>
<li><a href="#orgbf3f361">Bootstrap</a></li>
<li><a href="#org929b30b">Bulma</a></li>
<li><a href="#org997262b">Tailwind CSS</a></li>
</ul>
</li>
<li><a href="#org404383b">CSS-in-JS</a>
<ul>
<li><a href="#orgbbe4c56">CSS modules</a></li>
<li><a href="#org5aedd4b">styled components</a></li>
<li><a href="#org870979d">Emotion</a></li>
</ul>
</li>
<li><a href="#orgaa2ee4a">Atomic CSS</a></li>
<li><a href="#orgaac3a74">Refs</a></li>
</ul>
</div>
</div>
<p>
当前，前端开发关于 CSS 的技术有很多：
</p>

<ul class="org-ul">
<li>CSS Preprocessors (CSS 预处理器): Sass，Less，Stylus，PostCSS 等</li>
<li>CSS Framework: Bootstrap，Tailwind 等</li>
<li>CSS-in-JS: Emotion, Styled components</li>
<li>Atomic CSS</li>
</ul>

<p>
本文尝试对这些技术做一个简单介绍。
</p>
<div id="outline-container-orgb32284b" class="outline-2">
<h2 id="orgb32284b">CSS Preprocessor</h2>
<div class="outline-text-2" id="text-orgb32284b">
<blockquote>
<p>
A CSS preprocessor is a program that lets you generate CSS from the
preprocessor's own unique syntax.
</p>
</blockquote>

<p>
CSS 预处理器的目的是扩展一些 CSS 不具备的功能，例如，CSS Variable,
mixins, nesting selector(嵌套选择器), inheritancs selector(选择器继
承) 等。
</p>

<p>
CSS Preprocessor 有自己的语法, 需要安装 CSS compiler, 去编译出纯 CSS。
</p>

<p>
纵观常见的几个 preprocessor, 做的事情都大同小异，区别在于：
</p>

<ul class="org-ul">
<li>语法不同</li>
<li>支持功能的多寡</li>
<li>依赖的编译平台</li>
</ul>

<p>
选择上，主要还是看需要什么功能，是否便于集成到当前项目中，库是否持续维护，社区大小等。
</p>

<p>
另外，如果只是变量，简单的计算，其实 CSS 本身也具有一定功能，未必要用 preprocessor。
</p>
</div>
<div id="outline-container-org72ed5d6" class="outline-3">
<h3 id="org72ed5d6"><a href="https://sass-lang.com/">SCSS / SASS (Syntactically Awesome Style Sheets)</a></h3>
<div class="outline-text-3" id="text-org72ed5d6">
<ul class="org-ul">
<li>支持函数</li>

<li>用 Ruby 写的，可能需要装 Ruby 相关环境，有时环境安装会有问题，碰
到过几次安装 node-sass 出错的情况</li>

<li>SCSS 相比于 SASS，写法更接近原生的 CSS，需要写大括号，分号等</li>
</ul>
</div>
</div>
<div id="outline-container-org2bac4d4" class="outline-3">
<h3 id="org2bac4d4"><a href="https://lesscss.org/">Less (Leaner Stylesheets)</a></h3>
<div class="outline-text-3" id="text-org2bac4d4">
<ul class="org-ul">
<li>使用 JS 编译</li>

<li>比较容易添加到已有项目中</li>
</ul>
</div>
</div>
<div id="outline-container-org56c1919" class="outline-3">
<h3 id="org56c1919"><a href="https://stylus-lang.com/">Stylus</a></h3>
<div class="outline-text-3" id="text-org56c1919">
<ul class="org-ul">
<li>使用 JS 编译</li>

<li>内置了一些处理函数，能够处理繁重的计算</li>
</ul>
</div>
</div>
<div id="outline-container-orgf2b598a" class="outline-3">
<h3 id="orgf2b598a"><a href="https://postcss.org/">PostCSS</a></h3>
<div class="outline-text-3" id="text-orgf2b598a">
<blockquote>
<p>
PostCSS is a JavaScript library that transforms CSS into JavaScript.
</p>
</blockquote>

<p>
PostCSS 和上面三者区别比较大，它会先编译出 AST，以 JS 对象形式表示，
然后可以基于 AST 做很多事情，可以自己写插件去扩展，最后再编译回浏览
器识别的 CSS。
</p>

<p>
因此，PostCSS 除了本身这个库外，还有相关的插件生态圈，可以通过插件
去实现类似 SCSS 的功能。
</p>

<p>
相对于上面三者，扩展性更好，可以实现更多功能。
</p>
</div>
</div>
</div>
<div id="outline-container-org47b711e" class="outline-2">
<h2 id="org47b711e">CSS Frameworks</h2>
<div class="outline-text-2" id="text-org47b711e">
<p>
所谓的 CSS 框架，就是别人帮你把一些基础的，通用的样式写好，你直接拿
来用即可，类比组件库。
</p>

<p>
当需要扩展这些框架时，可能还需要用到 preprocessor。
</p>

<p>
框架的目的，主要是减少你需要写的 CSS，选择上可以考虑：
</p>

<ul class="org-ul">
<li>框架体积</li>
<li>预定义的样式是否够用, 是否符合设计的要求</li>
<li>可扩展性，是否容易扩展，容易维护</li>
<li>社区活跃度</li>
</ul>
</div>
<div id="outline-container-orgbf3f361" class="outline-3">
<h3 id="orgbf3f361"><a href="https://getbootstrap.com/">Bootstrap</a></h3>
<div class="outline-text-3" id="text-orgbf3f361">
<blockquote>
<p>
Powerful, extensible, and feature-packed frontend toolkit. Build
and customize with <code>Sass</code>, utilize prebuilt grid system and
components, and bring projects to life with powerful JavaScript
plugins.
</p>
</blockquote>
<p>
基于 Sass 打造的一套 CSS 框架，也支持 Less。Bootstrap 本身还提供了一些组件。
</p>
</div>
</div>
<div id="outline-container-org929b30b" class="outline-3">
<h3 id="org929b30b"><a href="https://bulma.io/">Bulma</a></h3>
<div class="outline-text-3" id="text-org929b30b">
<blockquote>
<p>
Bulma is a free, open source framework that provides ready-to-use
frontend components that you can easily combine to build responsive
web interfaces.
</p>
</blockquote>
<p>
也是基于 Sass 的框架，更轻量，基于 Flexbox。
</p>

<p>
模块化的组织结构，你可以只引用某个模块，例如按钮。
</p>
</div>
</div>
<div id="outline-container-org997262b" class="outline-3">
<h3 id="org997262b"><a href="https://tailwindcss.com/">Tailwind CSS</a></h3>
<div class="outline-text-3" id="text-org997262b">
<blockquote>
<p>
A utility-first CSS framework packed with classes like flex, pt-4,
text-center and rotate-90 that can be composed to build any design,
directly in your markup.
</p>
</blockquote>

<p>
它实际上是一个 PostCSS 插件。
</p>

<p>
高度可定制化，通过 <b>tailwind.config.js</b> 文件进行定制。
</p>

<p>
相比于 Bootstrap 和 Bulma，它们都是将 CSS 模板做好提供给你，而
Tailwind 更像是提供你制作自己模板的工具。
</p>
</div>
</div>
</div>
<div id="outline-container-org404383b" class="outline-2">
<h2 id="org404383b">CSS-in-JS</h2>
<div class="outline-text-2" id="text-org404383b">
<p>
preprocessor 的目的是为了扩展 CSS，增加一些功能特性；
</p>

<p>
CSS 框架则是预定义一套规则，不用从零开始构建 UI，便于快速开发；
</p>

<p>
那么 CSS-in-JS 是为了解决什么问题呢？
</p>

<ol class="org-ol">
<li>CSS 作用域问题，需要担心重名，覆盖，对于这个问题，目前有一些方案：
<ul class="org-ul">
<li>使用如 <a href="http://getbem.com/">BEM</a> 的命名规则，避免冲突，但还是可能会冲突</li>
<li>Vue 里可以给 style 添加 Scoped，限定作用域</li>
<li>如 <a href="https://tailwindcss.com/">Tailwind</a> 的 CSS 框架，由于定义了许多原子化的类名，不太需要自
己定义类名写样式，也可以很大程度避免这个问题</li>
<li>CSS-in-JS，将生成的样式限定在作用的元素上，例如 Emotion，会生成
一个独特的类名(基本是唯一的)</li>
</ul></li>

<li>集中定义 CSS JS HTML，将它们都放在一起，这样可以很方便的找到 CSS 去修改，也方便整体移动组件</li>

<li>可以使用 JS 去写 CSS，条件语句，循环，变量等，更容易地根据状态值切换样式</li>

<li>自动添加浏览器样式前缀</li>
</ol>
</div>
<div id="outline-container-orgbbe4c56" class="outline-3">
<h3 id="orgbbe4c56"><a href="https://github.com/css-modules/css-modules">CSS modules</a></h3>
<div class="outline-text-3" id="text-orgbbe4c56">
<blockquote>
<p>
A CSS Module is a CSS file in which all class names and animation
names are scoped locally by default
</p>
</blockquote>

<blockquote>
<p>
CSS Modules let you write styles in CSS files but consume them as
JavaScript objects for additional processing and safety.
</p>

<p>
CSS Modules are very popular because they automatically make class
and animation names unique so you don’t have to worry about
selector name collisions.
</p>
</blockquote>

<p>
就如名字一样，CSS modules 把 CSS 看作一个模块引入使用。
</p>

<p>
它需要把 CSS 定义到一个 css 文件中，然后引入这个文件，文件中的类名
会被处理成带作用域的。
</p>

<p>
引入后，相当于一个 JS 对象，通过类似 xxxStyle.title 的形式，引用对
应的样式。
</p>

<p>
最终会生成 .css 文件，可以预先加载，缓存。
</p>

<p>
除了全局作用域的写法特别，其它和正常写 CSS 没什么差别。
</p>

<div class="org-src-container">
<pre class="src src-css"><span style="color: #7f0000;">/* </span><span style="color: #7f0000;">container.module.css</span><span style="color: #7f0000;"> */</span>
<span style="color: #721045;">.container</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">margin</span>: 3rem auto;
  <span style="color: #531ab6;">max-width</span>: 600px;
<span style="color: #000000;">}</span>
</pre>
</div>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #531ab6;">import</span> React from <span style="color: #3548cf;">"react"</span>
<span style="color: #531ab6;">import</span> * as containerStyles from <span style="color: #3548cf;">"./container.module.css"</span>
<span style="color: #531ab6;">export</span> <span style="color: #531ab6;">default</span> <span style="color: #531ab6;">function</span> Container<span style="color: #000000;">(</span><span style="color: #dd22dd;">{</span> children <span style="color: #dd22dd;">}</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
  <span style="color: #531ab6;">return</span> <span style="color: #dd22dd;">(</span>
    <span style="color: #008899;">&lt;</span><span style="color: #721045;">section</span> <span style="color: #005e8b;">className</span>=<span style="color: #972500;">{</span>containerStyles.container<span style="color: #972500;">}</span><span style="color: #008899;">&gt;{</span>children<span style="color: #008899;">}&lt;</span>/<span style="color: #721045;">section</span><span style="color: #008899;">&gt;</span>
  <span style="color: #dd22dd;">)</span>
<span style="color: #000000;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5aedd4b" class="outline-3">
<h3 id="org5aedd4b"><a href="https://styled-components.com/">styled components</a></h3>
<div class="outline-text-3" id="text-org5aedd4b">
<p>
Styled component 会生成一个带有样式的组件。
</p>

<p>
你可以用语义更好的名字作为组件，例如写个 Title 组件，替换原来的 &lt;h1
style="&#x2026;" className="&#x2026;"&gt;, 语义化更好。
</p>

<p>
由于样式和组件捆绑，所以要删的时候很容易删，不用怎么担心会不会影响其它。
</p>

<p>
不能生成 .css 文件，因此无法提前加载，无法缓存 CSS。
</p>

<p>
可以根据组件上的 props，决定组件怎么渲染。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #531ab6;">const</span> <span style="color: #005e8b;">Button</span> = styled.a<span style="color: #3548cf;">`</span>
<span style="color: #3548cf;">  ${props =&gt; props.primary &amp;&amp; css`</span>
    background: white;
    color: black;
  <span style="color: #3548cf;">`}</span>
<span style="color: #3548cf;">`</span>
render<span style="color: #000000;">(</span>
  &lt;div&gt;
    &lt;Button
      href=<span style="color: #3548cf;">"https://github.com/styled-components/styled-components"</span>
      target=<span style="color: #3548cf;">"_blank"</span>
      rel=<span style="color: #3548cf;">"noopener"</span>
      primary
    &gt;
      GitHub
    &lt;/Button&gt;

    &lt;Button as=<span style="color: #dd22dd;">{</span>Link<span style="color: #dd22dd;">}</span> href=<span style="color: #3548cf;">"/docs"</span>&gt;
      Documentation
    &lt;/Button&gt;
  &lt;/div&gt;
<span style="color: #000000;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org870979d" class="outline-3">
<h3 id="org870979d"><a href="https://emotion.sh/docs/introduction">Emotion</a></h3>
<div class="outline-text-3" id="text-org870979d">
<p>
Emotion 通过引入 <a href="https://emotion.sh/docs/@emotion/styled">@emotion/styled</a> 也可以支持 Styled components 的写法。
</p>

<p>
也可以不用 styled 写法，而是定义一个个 CSS 然后组合起来。
</p>

<p>
可以通过用字符串定义 <code>const textColor = css`color: red;`</code> 或者对象形
式定义 <code>const textColor = css({ color: "red" })</code> 最后会返回一个
className。
</p>

<p>
如果不用 styled 方式定义，就不用通过 prop 来获取状态，可以直接访问
外部变量。
</p>

<p>
总体上，感觉 Emotion 和 Styled component 都是不错的 CSS-in-JS 技术，
Emotion 语法看起来更灵活一些。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #531ab6;">import</span> <span style="color: #000000;">{</span> css, cx <span style="color: #000000;">}</span> from <span style="color: #3548cf;">'@emotion/css'</span>

<span style="color: #531ab6;">const</span> <span style="color: #005e8b;">color</span> = <span style="color: #3548cf;">'white'</span>

render<span style="color: #000000;">(</span>
  &lt;div
    className=<span style="color: #dd22dd;">{</span>css<span style="color: #3548cf;">`</span>
<span style="color: #3548cf;">      padding: 32px;</span>
<span style="color: #3548cf;">      background-color: hotpink;</span>
<span style="color: #3548cf;">      font-size: 24px;</span>
<span style="color: #3548cf;">      border-radius: 4px;</span>
<span style="color: #3548cf;">      &amp;:hover {</span>
<span style="color: #3548cf;">        color: ${color};</span>
<span style="color: #3548cf;">      }</span>
<span style="color: #3548cf;">    `</span><span style="color: #dd22dd;">}</span>
  &gt;
    Hover to change color.
  &lt;/div&gt;
<span style="color: #000000;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgaa2ee4a" class="outline-2">
<h2 id="orgaa2ee4a">Atomic CSS</h2>
<div class="outline-text-2" id="text-orgaa2ee4a">
<blockquote>
<p>
Atomic CSS is the approach to CSS architecture that favors small,
single-purpose classes with names based on visual function
</p>
</blockquote>

<blockquote>
<p>
原子化 CSS 是一种 CSS 的架构方式，它倾向于小巧且用途单一的 class，并且
会以视觉效果进行命名。
</p>
</blockquote>

<p>
按照定义，其实 <a href="https://getbootstrap.com/">Bootstrap</a>, <a href="https://chakra-ui.com/">Chakara UI</a>, <a href="https://cn.windicss.org/">Windi CSS</a>, <a href="https://tailwindcss.com/">Tailwind</a>, <a href="https://github.com/unocss/unocss">UnoCSS</a> 这些
CSS 框架或者引擎，都算是原子化 CSS。
</p>

<p>
他们会定义一些用途单一的 class, 例如 .mr (margin-right), .mr-2,
.mt (margin-top), .mt-5。一般而言，一个 class 就对应一个 CSS 属性。
</p>

<div class="org-src-container">
<pre class="src src-css"><span style="color: #721045;">.mt-5</span> <span style="color: #000000;">{</span>
    <span style="color: #531ab6;">margin-top</span>: 5px;
<span style="color: #000000;">}</span>

<span style="color: #721045;">.pt-10</span> <span style="color: #000000;">{</span>
    <span style="color: #531ab6;">padding-top</span>: 10px;
<span style="color: #000000;">}</span>
</pre>
</div>

<p>
原子化 CSS 定义得这么细小单一，在刚开始的时候，也许需要定义很多原子化
CSS 以满足使用的需求，到后面当定义的 CSS 满足了大部分的需求时，就不太
需要再定义了。
</p>

<p>
它的增长曲线是一条对数曲线，随着定义的原子化 CSS 越来越多，会渐渐趋于
平稳。
</p>


<div id="orge639b7a" class="figure">
<p><img src="https://miro.medium.com/max/700/1*XYBs0ZTnU5_RIO0BT4qodg.png" alt="1*XYBs0ZTnU5_RIO0BT4qodg.png" />
</p>
</div>

<p>
此外，你不应该去改变定义好的属性值，当你需要一个不同的属性值，则定义新的类名。
</p>

<p>
定义原子化 CSS 多少有些麻烦，但目前存在很多工具，可以根据一些规则自动
生成对应的 CSS，例如  <a href="https://github.com/unocss/unocss">UnoCSS</a> ：
</p>
<div class="org-src-container">
<pre class="src src-js">rules: <span style="color: #000000;">[</span>
  <span style="color: #dd22dd;">[</span><span style="color: #3548cf;">/^m-(</span><span style="color: #721045;">\</span><span style="color: #00663f;">d</span><span style="color: #3548cf;">+)$/</span>, <span style="color: #008899;">(</span><span style="color: #972500;">[</span>, d<span style="color: #972500;">]</span><span style="color: #008899;">)</span> =&gt; <span style="color: #008899;">(</span><span style="color: #972500;">{</span> margin: <span style="color: #3548cf;">`${d / 4}rem`</span> <span style="color: #972500;">}</span><span style="color: #008899;">)</span><span style="color: #dd22dd;">]</span>,
  <span style="color: #dd22dd;">[</span><span style="color: #3548cf;">/^p-(</span><span style="color: #721045;">\</span><span style="color: #00663f;">d</span><span style="color: #3548cf;">+)$/</span>, match =&gt; <span style="color: #008899;">(</span><span style="color: #972500;">{</span> padding: <span style="color: #3548cf;">`${match[1] / 4}rem`</span> <span style="color: #972500;">}</span><span style="color: #008899;">)</span><span style="color: #dd22dd;">]</span>,
<span style="color: #000000;">]</span>
</pre>
</div>

<p>
原子化 CSS 的好处是，一个样式由许多单一的 class 组成，class 对应的内容
是不变的，可以很容易地知道一个样式是有哪些属性组成的，不用再去翻对应的
CSS 定义。当需要添加样式时，也可以很容易地想到对应的类名，减少了心智负
担。
</p>

<p>
而且一些工具会按需生成 CSS，只生成你需要的 CSS，减少了 CSS 的大小。
</p>

<p>
实际使用了一段时间的 UnoCSS，用下来觉得挺流畅的，开发体验不错。
</p>

<p>
写的时候就通过加类名去定义元素的样式，大多数情况也不会写很多的类名。
</p>

<p>
当需要调整时，直接就调整元素的类名，不用再去根据类名找到样式的定义，再去改样式，nice。
</p>

<p>
通过类名也比较直观地知道元素的样式，推荐在一些 UI 不是很复杂的场景尝试一下～
</p>
</div>
</div>
<div id="outline-container-orgaac3a74" class="outline-2">
<h2 id="orgaac3a74">Refs</h2>
<div class="outline-text-2" id="text-orgaac3a74">
<ul class="org-ul">
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/CSS_preprocessor">CSS preprocessor</a> @MDN</li>
<li><a href="https://www.lambdatest.com/blog/css-preprocessors-sass-vs-less-vs-stylus-with-examples/">CSS Preprocessors – Sass vs LESS vs Stylus (With Examples)</a></li>
<li><a href="https://zerotomastery.io/blog/postcss-vs-sass/">PostCSS vs. SASS: Why You Should Use PostCSS With Vue (+ How)</a></li>
<li><a href="https://www.browserstack.com/guide/top-css-frameworks">Top 5 CSS Frameworks for Developers and Designers</a></li>
<li><a href="https://github.com/andreipfeiffer/css-in-js">A thorough analysis of CSS-in-TS</a>@andreipfeiffer<br />
很详细地对比了几个常见的 CSS-in-JS 工具</li>
<li><a href="https://sparkbox.com/foundry/css_in_js_overview_css_in_js_pros_and_cons">A Lukewarm Approval of CSS-in-JS</a></li>
<li><a href="https://webdesign.tutsplus.com/articles/an-introduction-to-css-in-js-examples-pros-and-cons--cms-33574">An Introduction to CSS-in-JS: Examples, Pros, and Cons</a></li>
<li><a href="https://www.gatsbyjs.com/docs/how-to/styling/css-modules/">Component-Scoped Styles with CSS Modules</a></li>
<li><a href="https://blog.logrocket.com/styled-components-vs-emotion-for-handling-css/">Styled-components vs. Emotion for handling CSS</a></li>
<li><a href="https://css-tricks.com/lets-define-exactly-atomic-css/">Let’s Define Exactly What Atomic CSS is</a></li>
<li><a href="https://betterprogramming.pub/an-introduction-to-atomic-css-880cb02ad57f"> An Introduction to Atomic CSS</a><br />
解释了原子化 CSS 的作用，好处，缺点</li>
<li><a href="https://antfu.me/posts/reimagine-atomic-css-zh">重新构想原子化 CSS</a>@antfu</li>
<li><a href="https://2021.stateofcss.com/en-US/">State Of CSS 2021</a><br />
了解 2021 年这些 CSS 技术的欢迎度</li>
<li><a href="https://dev.to/srmagura/why-were-breaking-up-wiht-css-in-js-4g9b">Why We're Breaking Up with CSS-in-JS</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">

<p class="author">Author: <a href="mailto:l-yanlei@hotmail.com">Spike Leung</a></p>
<p class="date">Date: 2022-07-31 Sun 00:00</p>
<p class="license">License: <a href="https://www.creativecommons.org/licenses/by-nc/4.0/deed.zh-hans">CC BY-NC 4.0</a></p>
<script src="https://utteranc.es/client.js" repo="Spike-Leung/taxodium" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
</div>
</body>
</html>
